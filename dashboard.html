<!doctype html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"><meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=0"><link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" type="text/css" rel="stylesheet"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" type="text/css" rel="stylesheet"/><link href="https://cdn.jsdelivr.net/npm/round-slider@1.6.1/dist/roundslider.min.css" type="text/css" rel="stylesheet"/><style>:root{--font-color:#222;--bg-color:#f2f3f7;--button-bg-color:#f2f3f7;--button-shadow:-3px -3px 8px rgba(255,255,255,0.4),1px 1px 8px rgba(0,0,0,0.07)}html{box-sizing:border-box;font-size:18px;font-family:'Roboto',sans-serif;color:var(--font-color);background-color:white}*,*:before,*:after{box-sizing:inherit}body{margin:0;overflow:hidden}</style><style>#container{margin-left:auto;margin-right:auto;overflow:hidden;padding-top:80px;height:100vh;margin-top:80px}.footer{position:fixed;left:0;bottom:0;width:100%;background-color:rgba(255,255,255,0.9);color:white;text-align:center;-webkit-box-shadow:-1px 1px 9px 5px rgba(122,122,122,0.6);box-shadow:-1px 1px 9px 5px rgba(122,122,122,0.6);z-index:999}.header{padding:10px 16px;background:#fff;height:76px;color:#000;z-index:2;font-weight:500}.header h2{font-weight:300;margin:0;font-size:16px;color:black}.sticky{position:fixed;top:0;width:100%;z-index:999}</style><style>.checkbox{position:relative;display:inline-block}.checkbox:after,.checkbox:before{font-family:FontAwesome;font-feature-settings:normal;-webkit-font-kerning:auto;font-kerning:auto;font-language-override:normal;font-stretch:normal;font-style:normal;font-synthesis:weight style;font-variant:normal;font-weight:normal;text-rendering:auto}.checkbox label{width:90px;height:42px;background:#ccc;position:relative;display:inline-block;border-radius:46px;transition:.4s}.checkbox label:after{content:'';position:absolute;width:50px;height:50px;border-radius:100%;left:0;top:-5px;z-index:2;background:#fff;box-shadow:0 0 5px rgba(0,0,0,0.2);transition:.4s}.checkbox input{position:absolute;left:0;top:0;width:100%;height:100%;z-index:5;opacity:0;cursor:pointer}.checkbox input:hover+label:after{box-shadow:0 2px 15px 0 rgba(0,0,0,0.2),0 3px 8px 0 rgba(0,0,0,0.15)}.checkbox input:checked+label:after{left:40px}.checkbox label{background:#bbb;height:25px;width:52px}.checkbox label:after{background:#fff;top:4px;width:20px;height:20px;left:2px}.checkbox input:checked+label{background:linear-gradient(to top,#c97cca,#f39fc1)}.checkbox input:checked+label:after{background:#fff;left:28px}</style><style>#instantTemp,#sTempHighValue,#sTempLowValue{background-color:transparent!important;border-color:transparent!important;outline:transparent!important;width:24px;text-align:center}#instantTemp:focus,#sTempHighValue:focus,#sTempLowValue:focus{background-color:white!important;border:1px gray solid!important;outline:transparent!important;width:24px}#timeselect{background-color:transparent!important;border-color:transparent!important;outline:transparent!important}#timeselect:focus{background-color:white!important;border:1px gray solid!important;outline:transparent!important}</style><style>.btn-1{background:linear-gradient(to top,#c97cca,#f39fc1);color:#fff;cursor:pointer;font-size:12px;padding:10px;border-width:0;transition:all .5s;border-radius:20px;width:auto;position:relative;margin:5px;padding-left:20px;padding-right:20px}.btn-1::after{font-weight:400;position:absolute;left:85%;top:31%;right:5%;bottom:0;opacity:0}.btn-1:hover{background:white;color:#c97cca;transition:all .5s;border-radius:20px;border-color:#c97cca;border-width:0}.btn-2{background:linear-gradient(to top,#c97cca,#f39fc1);color:#fff;cursor:pointer;font-size:16px;padding:10px;border-width:0;transition:all .5s;border-radius:20px;width:100%;position:relative;margin:5px;padding-left:20px;padding-right:20px;height:48px}.btn-2::after{font-weight:400;position:absolute;left:85%;top:31%;right:5%;bottom:0;opacity:0}.btn-2:hover{background:white;color:#c97cca;transition:all .5s;border-radius:20px;border-color:#c97cca;border-width:0}.btn-3{color:#fff;cursor:pointer;font-size:16px;padding:10px;border-width:1px;transition:all .5s;border-radius:20px;width:100%;position:relative;margin:5px;padding-left:20px;padding-right:20px;height:48px;color:gray;background-color:white}.btn-3:hover{background:gray;color:white;transition:all .5s;border-color:gray}</style><style>.modalSelect:hover{background-color:#e9e9e9}</style><style>#stemp .rs-bg-color{background-color:white}#stemp .rs-range-color{background:linear-gradient(to right,#f39fc1,#c97cca,#f39fc1)}#stemp .rs-path-color{background-color:#eee}#stemp .rs-handle:nth-of-type(1){background-color:#f39fc1}#stemp .rs-border{border-color:white;border-width:0}#temp .rs-range-color{background-color:#eee}#temp .rs-handle:after{background-color:#000}#temp .rs-path-color{background-color:#eee}#temp .rs-border{border-color:#ff8d00;border-width:0}#temp .rs-handle-dot:after{display:block;content:"";height:25px;width:25px;border-radius:1000px;margin-top:-2px;margin-left:-2px;background:linear-gradient(to left,#f39fc1,#c97cca)}#temp .rs-handle-dot{padding:6px;box-shadow:1px 1px 4px 3px rgb(122 122 122 / 30%);border:1px #fff solid}</style><style>.modal{position:absolute;z-index:10000;top:0;left:0;visibility:hidden;width:100%;height:100%;max-width:500px}.modal.is-visible{visibility:visible}.modal-overlay{position:fixed;z-index:10;top:0;left:0;width:100%;height:100%;background:hsla(0,0%,0%,0.5);visibility:hidden;opacity:0;transition:visibility 0s linear .3s,opacity .3s}.modal.is-visible .modal-overlay{opacity:1;visibility:visible;transition-delay:0s}.modal-wrapper{position:absolute;z-index:9999;bottom:0;margin:10px;background-color:#fff;box-shadow:0 0 1.5em hsla(0,0%,0%,0.35);border-radius:20px}.modal-transition{transition:all .3s .12s;transform:translateY(-10%);opacity:0}.modal.is-visible .modal-transition{transform:translateY(0);opacity:1}.modal-header{padding:1em}.modal-content{padding:0}.modal-header{position:relative;background-color:#fff;border-top-left-radius:20px;border-top-right-radius:20px}.modal-close{position:absolute;top:0;right:0;padding:1em;color:#aaa;background:0;border:0}.modal-close:hover{color:#777}.modal-heading{font-size:1.125em;margin:0;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.modal-content>*:first-child{margin-top:0}.modal-content>*:last-child{margin-bottom:0}</style><style>.dialog{position:relative;background:white;border-radius:10px;padding:10px;background-color:whitesmoke}.dialog-top:after{content:'';position:absolute;width:0;height:0;top:-40px;right:240px;border-top:20px solid transparent;border-bottom:30px solid whitesmoke;border-right:20px solid transparent;border-left:20px solid transparent}</style><style>.radio,.checkbox{position:relative;display:block;margin-top:10px;margin-bottom:10px}.radio label,.checkbox label{min-height:27px;padding-left:20px;margin-bottom:0;font-weight:normal;cursor:pointer}.radio input[type="radio"],.radio-inline input[type="radio"],.checkbox input[type="checkbox"],.checkbox-inline input[type="checkbox"]{position:absolute;margin-left:-20px;margin-top:4px \9}.radio+.radio,.checkbox+.checkbox{margin-top:-5px}.radio-inline,.checkbox-inline{position:relative;display:inline-block;padding-left:20px;margin-bottom:0;vertical-align:middle;font-weight:normal;cursor:pointer}.radio-inline+.radio-inline,.checkbox-inline+.checkbox-inline{margin-top:0;margin-left:10px}input[type="radio"][disabled],input[type="radio"].disabled,fieldset[disabled] input[type="radio"],input[type="checkbox"][disabled],input[type="checkbox"].disabled,fieldset[disabled] input[type="checkbox"]{cursor:not-allowed}.radio-inline.disabled,fieldset[disabled] .radio-inline,.checkbox-inline.disabled,fieldset[disabled] .checkbox-inline{cursor:not-allowed}.radio.disabled label,fieldset[disabled] .radio label,.checkbox.disabled label,fieldset[disabled] .checkbox label{cursor:not-allowed}</style><style>.lds-ellipsis{display:inline-block;position:relative;width:80px;height:80px}.lds-ellipsis div{position:absolute;top:33px;width:13px;height:13px;border-radius:50%;background:lightgray;animation-timing-function:cubic-bezier(0,1,1,0)}.lds-ellipsis div:nth-child(1){left:8px;animation:lds-ellipsis1 .6s infinite}.lds-ellipsis div:nth-child(2){left:8px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis div:nth-child(3){left:32px;animation:lds-ellipsis2 .6s infinite}.lds-ellipsis div:nth-child(4){left:56px;animation:lds-ellipsis3 .6s infinite}@keyframes lds-ellipsis1{0%{transform:scale(0)}100%{transform:scale(1)}}@keyframes lds-ellipsis3{0%{transform:scale(1)}100%{transform:scale(0)}}@keyframes lds-ellipsis2{0%{transform:translate(0,0)}100%{transform:translate(24px,0)}}</style></head><body><div class="header sticky"><h2> Dashboard </h2><div style="width:100%;margin-top:8px;"><div style="width:30%;float:left;font-size: 22px;">Thermostat</div></div><div style="position:absolute;top:10px;right:10px;cursor:pointer;" onclick="location.href='index.html';"><i class="fas fa-sign-out-alt"></i></div></div><div id="container" style=" overflow-y: scroll;"><div class="app-contain" style="overflow:hidden;"><div style="background-color:light-gray;width:100%;text-align:center;font-size:16px;margin-top:20px;"><div style="width:50%;float:left;border-right: 1px black solid;text-align:right;"><i class="fas fa-cloud"></i><span style="margin-right:10px;margin-left:10px;"><span id="co2_value"></span>ppm</span></div><div style="text-align:left;"><i style="margin-left:20px;" class="fas fa-tint"></i><span style="margin-left:10px;"><span id="humidity_value"></span>%</span></div></div><div id="warning" style="width:100%;text-align:center;margin-top:10px;font-size: 14px;color:red;">Connecting to Device...</div><div style="position:relative;overflow:hidden;width: 340px;margin: auto;margin-top:10px;"><div id="temp" style="margin:auto;padding-top:10px;"></div><div id="stemp" style="margin:auto;padding-top:10px;"></div><div id="thermostat" style="position: absolute;top: 75px;left: 110px;z-index: 3;font-size: 20px;font-weight: 400;">Current Temp</div><div id="currentTemp" style="position: absolute;top: 94px;left: 114px;z-index: 3;font-size: 84px;font-weight: 400;">68</div><div id="unit" style="position: absolute;top: 136px;left: 214px;z-index: 3;font-size: 18px;font-weight: 900;">&deg;F</div><div id="lowTemp" style="position: absolute;top: 232px;left: 61px;z-index: 3;font-size: 14px;color:#a37c72;">14 &deg;F</div><div id="highTemp" style="position: absolute;top: 232px;left: 245px;z-index: 3;font-size: 14px;color:#a37c72;">130 &deg;F</div></div><div id="tempDialog" class="dialog dialog-top" style="max-width: 380px;width:96%;font-weight:200;margin:auto;"><div style="margin:auto;font-size: 14px;width: 150px;line-height: 25px;"><div style="float:left;line-height: 26px;color:#a37c72;"> Target Temp:</div><input type="text" id="instantTemp" style="float:left;width: 50px;font-size:18px;" value=""/><div style="font-size: 10px;color:#a37c72;">&deg;F</div></div></div><div id="stempDialog" class="dialog dialog-top" style="max-width: 380px;width:96%;font-weight:200;margin:auto;height: 46px;"><div style="width:49%;float:left;"><div style="margin:auto;font-size: 14px;width: 130px;line-height: 25px;float:right;"><div style="float:left;line-height: 26px;color:#a37c72;"> High Temp:</div><input type="text" id="sTempHighValue" style="float:left;width: 38px;font-size:18px;" value=""/><div style="font-size: 10px;color:#a37c72;">&deg;F</div></div></div><div style="float:left;"><div style="margin:auto;font-size: 14px;width: 130px;line-height: 25px;"><div style="float:left;line-height: 26px;color:#a37c72;"> Low Temp:</div><input type="text" id="sTempLowValue" style="float:left;width: 38px;font-size:18px;" value=""/><div style="font-size: 10px;color:#a37c72;">&deg;F</div></div></div></div><div style="height:50px;margin-top: 50px;"><div style="max-width:300px;overflow:hidden;margin:auto;"><div style="float:left;font-size:16px;line-height:50px;">Smart Temperature</div><div style="text-align: right;"><div class="checkbox"><input id="cbStemp" type="checkbox"/><label></label></div></div></div></div><div style="height:50px;"><div id="modeDiv" style="max-width:300px;overflow:hidden;margin:auto;display:none;"><div style="float:left;font-size:16px;line-height:50px;">Mode</div><div style="text-align: right;padding-top: 12px;cursor:pointer;" onclick="openModeModal()"> Heat <i class="fas fa-chevron-right"></i></div></div><div id="smodeDiv" style="max-width:300px;overflow:hidden;margin:auto;display:none;"><div style="float:left;font-size:16px;line-height:50px;">Smart Mode</div><div style="text-align: right;padding-top: 12px;cursor:pointer;" onclick="openSModeModal()"> Heat <i class="fas fa-chevron-right"></i></div></div></div><div style="height:50px;"><div style="max-width:300px;overflow:hidden;margin:auto;"><div style="float:left;font-size:16px;line-height:50px;">Fan</div><div style="text-align: right;padding-top: 12px;cursor:pointer;" onclick="openFanModal()"> Auto <i class="fas fa-chevron-right"></i></div></div></div><div style="margin-left:auto;margin-right:auto;width: 95px;margin-top: 20px;"><button class="btn-1" onclick="openSyncModal()"><i class="fas fa-cloud-upload-alt"></i> Sync</button></div><div style="height:200px;width:100%;color:white;"></div></div></div><div class="footer" style=""><div style="width:100%;margin-top: 10px;"><div style="width:33%;text-align:center;float:left;font-size: 14px;cursor:pointer;line-height: 16px;color:#dbdbdb;margin-bottom: 10px;"><i class="fas fa-columns"></i><br><span style="font-size:12px;">Device</span></div><div style="width:33%;text-align:center;float:left;font-size: 14px;cursor:pointer;line-height: 16px;color:#9f70a7;margin-bottom: 10px;"><i class="fas fa-tachometer-alt"></i><br><span style="font-size:12px;">Dashboard</span></div><div style="width:33%;text-align:center;float:left;font-size: 14px;cursor:pointer;line-height: 16px;color:#dbdbdb;margin-bottom: 10px;"><i class="fas fa-calendar-alt"></i><br><span style="font-size:12px;">Schedule</span></div></div></div><div id="mode_modal" class="modal"><div class="modal-overlay" onclick="closeModeModal()">></div><div class="modal-wrapper modal-transition" style=""><div class="modal-header"><button class="modal-close" style="cursor:pointer;" onclick="closeModeModal()"><i class="fas fa-times"></i></button><h2 class="modal-heading" style="">Mode</h2></div><div class="modal-body"><div class="modal-content"><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;color: red;"><i class="fas fa-fire"></i></div><span style="margin-left:10px;">Heat</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="modeSelect" value="heat"></div></div><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;;color:#7484ef;"><i class="fas fa-igloo"></i></div><span style="margin-left:10px">Cool</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="modeSelect" value="cool"></div></div><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;"><i class="fas fa-power-off"></i></div><span style="margin-left:10px;">Off</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="modeSelect" value="off"></div></div><p style="color:white;padding:20px;font-size:1px;line-height:1px;margin:0px;"> dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj </p></div></div></div></div><div id="smode_modal" class="modal"><div class="modal-overlay" onclick="closeSModeModal()">></div><div class="modal-wrapper modal-transition" style=""><div class="modal-header"><button class="modal-close" style="cursor:pointer;" onclick="closeSModeModal()"><i class="fas fa-times"></i></button><h2 class="modal-heading" style="">Smart Mode</h2></div><div class="modal-body"><div class="modal-content"><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;color: red;"><i class="fas fa-fire"></i></div><span style="margin-left:10px;">Heat</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="smodeSelect" value="heat"></div></div><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;;color:#7484ef;"><i class="fas fa-igloo"></i></div><span style="margin-left:10px">Cool</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="smodeSelect" value="cool"></div></div><p style="color:white;padding:20px;font-size:1px;line-height:1px;margin:0px;"> dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj </p></div></div></div></div><div id="fan_modal" class="modal"><div class="modal-overlay" onclick="closeFanModal()">></div><div class="modal-wrapper modal-transition" style=""><div class="modal-header"><button class="modal-close" style="cursor:pointer;" onclick="closeFanModal()"><i class="fas fa-times"></i></button><h2 class="modal-heading" style="">Fan</h2></div><div class="modal-body"><div class="modal-content"><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;color: black;"><i class="fas fa-fan"></i></div><span style="margin-left:10px;">On</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="fanSelect" value="on"></div></div><div class="modalSelect" style="width:100%;line-height:60px;border-bottom: 1px #e6e6e6 solid;padding-left:40px;padding-right:40px;overflow:hidden;"><div style="float:left;"><div style="width:30px;text-align:center;float:left;;color:black;"><i class="fas fa-robot"></i></div><span style="margin-left:10px">Auto</span></div><div style="float:right;display:none;"><i class="fas fa-check"></i></div><div style="display:none;"><input type="radio" name="fanSelect" value="auto"></div></div><p style="color:white;padding:20px;font-size:1px;line-height:1px;margin:0px;"> dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj </p></div></div></div></div><div id="sync_modal" class="modal"><div class="modal-overlay" onclick="closeSyncModal()"></div><div class="modal-wrapper modal-transition" style=""><div class="modal-header"><button class="modal-close" style="cursor:pointer;" onclick="closeSyncModal()"><i class="fas fa-times"></i></button><h2 class="modal-heading" style=""></h2></div><div class="modal-body"><div class="modal-content" style="padding:20px;"><h3 style="text-align:center;margin-bottom:40px;">Sync Data</h3><p style="text-align:center;"> Would you like to sync this device's new status to the cloud? </p><div style="margin-left:auto;margin-right:auto;width: 80%;margin-top: 36px;text-align:center;"><div id="syncLoading" style="display:none;margin:auto;" class="lds-ellipsis"><div></div><div></div><div></div><div></div></div><button id="btnSyncNow" class="btn-2" onclick="GetDeviceConfigFromUI()"><i class="fas fa-cloud-upload-alt"></i> Sync Now</button><button id="btnSyncCancel" class="btn-3" onclick="closeSyncModal()"><i class="fas fa-sync-alt"></i> Cancel</button></div><p style="color:white;padding:20px;font-size:1px;line-height:1px;margin:0px;"> dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj dsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfjdsfsadfdasjflkadsjfl dsjalfkj sdlfj lsdakfj </p></div></div></div></div></body></html><script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/round-slider@1.6.1/dist/roundslider.min.js"></script><script src='js/scripto.min.js'></script><script type="text/javascript">function reloadUIFromLocal(){var a=localStorage.getItem("targetserialid");if(a){getDB(a,function(b){console.log("frontendshadow",b);SetDeviceDataUI(b.data);SetDeviceConfigUI(b.config)})}}function getTargetDeviceFromDB(){var b=$.Deferred();var a=localStorage.getItem("targetserialid");if(a){getDB(a,function(c){b.resolve(c)})}else{b.reject()}return b.promise()}function setTargetDeviceToDB(c){var b=$.Deferred();var a=localStorage.getItem("targetserialid");if(a){var d=localStorage.getItem("targetserialid");c.serialid=d;putDB(c)}else{b.reject()}return b.promise()}$(document).ready(function(){reloadUIFromLocal();GetDeviceList().then(function(a){localStorage.setItem("targetserialid",a.serialid);GetDeviceStateConfig(a.serialid);GetMQTTInfo(a.serialid).then(function(){MQTTconnect()})},function(a){console.error("err",a)});$("#temp").hide();$("#stemp").show();$("#tempDialog").hide();$("#stempDialog").show();$("#cbStemp").change(function(){if(this.checked){$("#temp").hide();$("#stemp").show();$("#tempDialog").hide();$("#stempDialog").show();$("#modeDiv").hide();$("#smodeDiv").show()}else{$("#temp").show();$("#stemp").hide();$("#tempDialog").show();$("#stempDialog").hide();$("#modeDiv").show();$("#smodeDiv").hide()}})});function sliderTypeChanged(a){$("#temperature").roundSlider({sliderType:a.value})};</script><script>$(function(){$(".modal-toggle").on("click",function(a){a.preventDefault()});$(".modalSelect").click(function(){$(this).find("input").prop("checked",true);$(this).find("input").trigger("change")});$("input[type=radio][name=modeSelect]").on("change",function(){$("input[type=radio][name=modeSelect]").each(function(a,b){$(this).parent().prev().css({display:"none"})});if($(this).val()=="heat"){$(this).parent().prev().css({display:"block"})}else{if($(this).val()=="cool"){$(this).parent().prev().css({display:"block"})}else{if($(this).val()=="off"){$($(this)).parent().prev().css({display:"block"})}}}});$("input[type=radio][name=smodeSelect]").on("change",function(){$("input[type=radio][name=smodeSelect]").each(function(a,b){$(this).parent().prev().css({display:"none"})});if($(this).val()=="heat"){$(this).parent().prev().css({display:"block"})}else{if($(this).val()=="cool"){$(this).parent().prev().css({display:"block"})}}});$("input[type=radio][name=fanSelect]").on("change",function(){$("input[type=radio][name=fanSelect]").each(function(a,b){$(this).parent().prev().css({display:"none"})});if($(this).val()=="on"){$(this).parent().prev().css({display:"block"})}else{if($(this).val()=="auto"){$(this).parent().prev().css({display:"block"})}}})});</script><script>var blinking=true;function blink(a){$(a).fadeOut("slow",function(){$(this).fadeIn("slow",function(){if(blinking){blink(this)}})})}$(function(){blink("#warning")});</script><script>function TriggerDeviceSync(a){CLIENT.request("TriggerDeviceSync",{serialid:a},function(b){if(b.err){console.error(err)}else{console.log("TriggerDeviceSync success",a)}})}function GetDeviceList(){var a=$.Deferred();CLIENT.request("GetDeviceList",{},function(d){if(d.err){console.error(err);a.reject(err)}else{if(d.devices&&d.devices.length>0){for(var b=0;b<d.devices.length;b++){var c=d.devices[b];addDB(c)}a.resolve(d.devices[0])}}});return a.promise()}function SetDeviceDataToDB(b,a){return getTargetDeviceFromDB().then(function(d){var c=d;if(b){c.data.co2=b.co2;c.data.hum=b.hum;c.data.temp=b.temp;c.data.temp_unit=b.temp_unit}if(a){c.config.instant_heat=a.instant_heat;c.config.instant_cool=a.instant_cool;c.config.mode=a.mode;c.config.fan=a.fan;c.config.smart_mode_state=a.smart_mode_state;c.config.smart_low=a.smart_low;c.config.smart_high=a.smart_high}setTargetDeviceToDB(c)},function(c){console.error(c)})}function GetDeviceConfigFromUI(){getTargetDeviceFromDB().then(function(a){var b=a.config;b.serialid=localStorage.getItem("targetserialid");delete b.lastupdatets;if($("#cbStemp").is(":checked")){b.mode="smart";b.smart_mode_state=$('input[name="smodeSelect"]:checked').val();b.smart_low=$("#sTempLowValue").val();b.smart_high=$("#sTempHighValue").val()}else{b.mode=$('input[name="modeSelect"]:checked').val();if(b.mode=="heat"){b.instant_heat=$("#instantTemp").val()}else{if(b.mode=="cool"){b.instant_cool=$("#instantTemp").val()}}}b.fan=$('input[name="fanSelect"]:checked').val();$("#btnSyncNow").hide();$("#btnSyncCancel").hide();$("#syncLoading").show();UpdateDeviceConfig(b).then(function(){$("#btnSyncNow").show();$("#btnSyncCancel").show();$("#syncLoading").hide();closeSyncModal()},function(c){$("#btnSyncNow").show();$("#btnSyncCancel").show();$("#syncLoading").hide();closeSyncModal();alert(c);console.error(c)})})}function SetDeviceDataUI(a){$("#co2_value").html(a.co2);$("#humidity_value").html(a.hum);$("#currentTemp").html(a.temp)}function SetDeviceConfigUI(a){var b=0;if(a.mode=="smart"){$("#cbStemp").prop("checked",true);$("#temp").hide();$("#stemp").show();$("#tempDialog").hide();$("#stempDialog").show();$("#modeDiv").hide();$("#smodeDiv").show()}else{$("#cbStemp").prop("checked",false);if(a.mode=="heat"){b=a.instant_heat}else{if(a.mode=="cool"){b=a.instant_cool}}$("#temp").show();$("#stemp").hide();$("#tempDialog").show();$("#stempDialog").hide();$("#modeDiv").show();$("#smodeDiv").hide()}$("#temp").roundSlider({sliderType:"min-range",width:20,radius:120,value:30000,startAngle:-60,endAngle:"+300",handleSize:"+15",value:b,handleShape:"dot",min:14,max:130,showTooltip:false,valueChange:function(c){$("#instantTemp").val(c.value)}});$("#temp").height(280);$('input[type=radio][name=fanSelect][value="'+a.fan+'"]').each(function(c){$(this).prop("checked",true);$(this).trigger("change")});$('input[type=radio][name=modeSelect][value="'+a.mode+'"]').each(function(c){$(this).prop("checked",true);$(this).trigger("change")});$('input[type=radio][name=smodeSelect][value="'+a.smart_mode_state+'"]').each(function(c){$(this).prop("checked",true);$(this).trigger("change")});$("#stemp").roundSlider({width:20,radius:120,handleSize:"+1",sliderType:"range",startAngle:-60,endAngle:"+300",value:a.smart_low+","+a.smart_high,min:14,max:130,showTooltip:false,valueChange:function(d){var c=d.value.split(",");$("#sTempHighValue").val(c[0]);$("#sTempLowValue").val(c[1])}});$("#stemp").height(280)}function GetDeviceStateConfig(a){return CLIENT.request("GetDeviceStateConfig",{serialid:a},function(g){putDB(g);var h=g.serialid;var c=g.name;var i=g.data;var n=i.co2;var e=i.hum;var p=i.temp;var r=i.temp_unit;var o=i.lastupdatets;SetDeviceDataUI(i);var f=g.config;var d=f.instant_heat;var b=f.instant_cool;var j=f.mode;var m=f.fan;var q=f.smart_mode_state;var l=f.smart_low;var k=f.smart_high;var o=f.lastupdatets;SetDeviceConfigUI(f)})}function UpdateDeviceConfig(a){return CLIENT.request("UpdateDeviceConfig",a,function(b){console.log("UpdateDeviceConfig response",b)})};</script><script>function closeSyncModal(){reloadUIFromLocal();$("#sync_modal").removeClass("is-visible")}function openSyncModal(){$("#sync_modal").addClass("is-visible");var b=$("#sync_modal").width();var a=$(window).width();var c=Math.floor((a-b)/2);$("#sync_modal").css({left:c})}function closeModeModal(){$("#mode_modal").removeClass("is-visible")}function openModeModal(){$("#mode_modal").addClass("is-visible");var b=$("#mode_modal").width();var a=$(window).width();var c=Math.floor((a-b)/2);$("#mode_modal").css({left:c})}function closeSModeModal(){$("#smode_modal").removeClass("is-visible")}function openSModeModal(){$("#smode_modal").addClass("is-visible");var b=$("#smode_modal").width();var a=$(window).width();var c=Math.floor((a-b)/2);$("#smode_modal").css({left:c})}function closeFanModal(){$("#fan_modal").removeClass("is-visible")}function openFanModal(){$("#fan_modal").addClass("is-visible");var b=$("#fan_modal").width();var a=$(window).width();var c=Math.floor((a-b)/2);$("#fan_modal").css({left:c})};</script><script type="text/javascript">var mqtt;var reconnectTimeout=2000;var host=null;var port=null;var topic=null;var useTLS=true;var username=null;var password=null;var clientid=null;var cleansession=true;var loginuser="TriCascade";var loginpw="tricascade@2021";var appuid="Android-7.0-BrowserAgent-UniqueID"+makeid();var device_serial_id=null;function makeid(){var c="";var a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(var b=0;b<5;b++){c+=a.charAt(Math.floor(Math.random()*a.length))}return c}function MQTTconnect(){mqtt=new Paho.MQTT.Client(host,port,clientid);var a={timeout:3,useSSL:useTLS,cleanSession:cleansession,onSuccess:function(){console.log("Connected to "+host+":"+port);mqtt.subscribe(topic,{qos:1});console.log("topic",topic);TriggerDeviceSync(device_serial_id)},onFailure:function(b){console.log("Connection failed: "+b.errorMessage+"Retrying");setTimeout(MQTTconnect,reconnectTimeout)}};mqtt.onConnectionLost=onConnectionLost;mqtt.onMessageArrived=onMessageArrived;if(username!=null){a.userName=username;a.password=password}console.log("Host="+host+", port="+port+" TLS = "+useTLS+" username="+username+" password="+password);mqtt.connect(a)}function onConnectionLost(a){setTimeout(MQTTconnect,reconnectTimeout);console.log("connection lost: "+a.errorMessage+". Reconnecting")}function onMessageArrived(d){var b=d.destinationName;var f=d.payloadString;var c=JSON.parse(f);if(c.event_type=="SENSOR_UPDATE_EVENT"){var a={};a.co2=c.co2;a.hum=c.hum;a.temp=c.temp;a.temp_unit=c.temp_unit;SetDeviceDataToDB(a,null).then(function(){reloadUIFromLocal()});blinking=false;$("#warning").hide()}else{if(c.event_type=="CONFIG_UPDATE_EVENT"){var e={};e.instant_heat=c.instant_heat;e.instant_cool=c.instant_cool;e.mode=c.mode;e.fan=c.fan;e.smart_mode_state=c.smart_mode_state;e.smart_low=c.smart_low;e.smart_high=c.smart_high;SetDeviceDataToDB(null,e).then(function(){reloadUIFromLocal()});blinking=false;$("#warning").hide()}}}function GetMQTTInfo(b){var a=$.Deferred();device_serial_id=b;CLIENT.request("GetAppMQTTInfo",{uid:appuid,serialid:device_serial_id},function(c){if(c.err){alert(err);console.error(err);a.reject(err)}else{console.log("Get Client App MQTT Info Successful");host=c.addr;port=parseInt(c.port);username=c.username;password=c.password;clientid=appuid;topic=c.topic;a.resolve()}});return a.promise()};</script><script>var indexedDB=window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB||window.msIndexedDB||window.shimIndexedDB,IDBTransaction=window.IDBTransaction||window.webkitIDBTransaction||window.msIDBTransaction,baseName="deviceshadow",storeName="data";function logerr(a){console.error(a)}function connectDB(a){var b=indexedDB.open(baseName,1);b.onerror=logerr;b.onsuccess=function(){a(b.result)};b.onupgradeneeded=function(f){var d=f.currentTarget.result;if(!d.objectStoreNames.contains(storeName)){var c=d.createObjectStore(storeName,{keyPath:"serialid"})}connectDB(a)}}function getDB(b,a){connectDB(function(c){var d=c.transaction([storeName],"readonly").objectStore(storeName).get(b);d.onerror=logerr;d.onsuccess=function(){a(d.result?d.result:-1)}})}function getAllDB(a){connectDB(function(c){var d=[],b=c.transaction([storeName],"readonly").objectStore(storeName);if(b.mozGetAll){b.mozGetAll().onsuccess=function(f){a(f.target.result)}}else{b.openCursor().onsuccess=function(f){var g=f.target.result;if(g){d.push(g.value);g["continue"]()}else{a(d)}}}})}function addDB(a){connectDB(function(b){var d=b.transaction([storeName],"readwrite");var c=d.objectStore(storeName);var e=c.add(a);e.onerror=logerr;e.onsuccess=function(){console.log("DB Row added",e.result)}})}function putDB(a){connectDB(function(b){var d=b.transaction([storeName],"readwrite");var c=d.objectStore(storeName);var e=c.put(a);e.onerror=logerr;e.onsuccess=function(){console.log("Rows has been updated");console.log("DB Row Updated",e.result)}})};</script>
